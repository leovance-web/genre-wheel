<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Genre Wheel</title>
<style>
    body { 
        background-color: #111; 
        color: #fff; 
        font-family: sans-serif; 
        text-align: center; 
        margin: 0; 
        padding: 20px; 
    }
    input, button { 
        margin: 10px; 
        padding: 10px; 
        font-size: 16px; 
        border-radius: 5px;
        border: none;
    }
    input { width: 60%; }
    button { background-color: #800000; color: #fff; cursor: pointer; }
    canvas { display: block; margin: 30px auto; background-color: #222; border-radius: 50%; }
</style>
</head>
<body>

<h1>Genre Wheel</h1>
<input type="text" id="genre-input" placeholder="Add a genre">
<button id="add-btn">Add</button>
<canvas id="wheel" width="300" height="300"></canvas>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById("genre-input");
    const addBtn = document.getElementById("add-btn");
    const canvas = document.getElementById("wheel");
    const ctx = canvas.getContext("2d");

    let genres = [];

    function drawWheel() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (genres.length === 0) return;

        const radius = canvas.width / 2;
        const center = { x: radius, y: radius };
        const sliceAngle = (2 * Math.PI) / genres.length;

        genres.forEach((genre, i) => {
            ctx.beginPath();
            ctx.moveTo(center.x, center.y);
            ctx.arc(center.x, center.y, radius, i * sliceAngle, (i + 1) * sliceAngle);
            ctx.fillStyle = i % 2 === 0 ? "#333" : "#555";
            ctx.fill();
            ctx.stroke();
            ctx.closePath();

            // text
            ctx.save();
            ctx.translate(center.x, center.y);
            ctx.rotate(i * sliceAngle + sliceAngle / 2);
            ctx.textAlign = "right";
            ctx.fillStyle = "#fff";
            ctx.font = "14px sans-serif";
            ctx.fillText(genre, radius - 10, 0);
            ctx.restore();
        });
    }

    function addGenre() {
        const value = input.value.trim();
        if (value !== "" && !genres.includes(value)) {
            genres.push(value);
            input.value = "";
            drawWheel();
        }
    }

    addBtn.addEventListener("click", addGenre);
    input.addEventListener("keypress", (e) => {
        if (e.key === "Enter") addGenre();
    });
});
</script>

</body>
</html>
